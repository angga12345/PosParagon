<?xml version="1.0" encoding="utf-8"?>
<!--
 Copyright (C) 2016 by PT Paragon Technology And Innovation

 This file is part of PTI Odoo Addons.

 PTI Odoo Addons is free software: you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 PTI Odoo Addons is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Lesser General Public License for more details.

 You should have received a copy of the GNU Lesser General Public License
 along with PTI Odoo Addons.  If not, see <http://www.gnu.org/licenses/>.
-->
<openerp>
    <data>
    	
        <record id="stock.action_report_delivery" model="ir.actions.report.xml">
        	<field name="groups_id" eval="[(4, ref('pti_branch.pti_audit_group'))]"/>
        </record>
        <record id="pti_do_report.action_report_pi" model="ir.actions.report.xml">
        	<field name="groups_id" eval="[(4, ref('pti_branch.pti_audit_group'))]"/>
        </record>
    	<record id="view_custom_do_form" model="ir.ui.view">
            <field name="name">view.custom.do.form</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <data>
	            	<field name="partner_id" position="after">
            			<field name="consignment" invisible="1"/>
            		</field>
                	<button name="do_print_picking" position="replace">
                		<button name="do_print_proforma_invoice" string="Proforma Invoice" 
                				groups="stock.group_stock_user" 
                				type="object" 
                				attrs="{'invisible':['|',('consignment','!=',False),('state','not in',('done','cancel'))]}"
                		/>		
                	</button>
				    <field name="origin" position="after">
				    	<field name="notif_report_printed" readonly="1"/>
				    	<field name="proforma_printed" readonly="1"/>
				    </field>
				    </data>
                <field name="pack_operation_product_ids" position="after">
                	<group class="oe_subtotal_footer oe_right" colspan="2" name="inventory_sale_total" 
                		attrs="{'invisible':[('state', '==', 'cancel')]}" >  	
                	<field name="total_amount"  widget='monetary' options="{'currency_field':'currency_id'}"/>               	
					</group>
                    <field name="notes" class="oe_inline" placeholder="An administrator can set up default Terms and conditions in your Company settings."/>
                </field>
                
            </field>
        </record>
        
        <record id="view_custom_do_tree" model="ir.ui.view">
            <field name="name">custom.do.tree</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.vpicktree"/>
            <field name="arch" type="xml">
                <field name="state" position="after">
                	<field name="notif_report_printed" readonly="True"/>
                </field>
            </field>
        </record>
        
    </data>
</openerp>
